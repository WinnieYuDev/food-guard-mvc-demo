<!--
    views/partials/header.ejs

    Purpose: Global header partial included at the top of pages. Contains
    site meta, Tailwind setup, the primary navigation and user account
    links. Kept minimal so it can be reused across all EJS templates.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        usda: {
                            blue: '#005EA2',  
                            darkblue: '#1A4480', 
                            red: '#E52207',     
                            green: '#00A91C',    
                            gold: '#FFC72C',     
                            gray: {
                                50: '#F5F5F5',
                                100: '#EDEDED',
                                500: '#71767A',
                                700: '#3D4551',
                                900: '#1B1B1B'
                            }
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-usda-gray-50 font-sans">
    
    <header class="bg-white border-b-4 border-usda-blue shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                
                <div class="flex items-center">
                    <a href="/" class="flex-shrink-0 flex items-center space-x-3">
                        <img src="/imgs/logo.jpg" 
                             alt="FoodGuard Logo" 
                             class="h-10 w-auto object-contain">
                        <div>
                            <span class="text-xl font-bold text-usda-darkblue">FoodGuard</span>
                            <div class="text-xs text-usda-gray-500 -mt-1">Public Health Protection</div>
                        </div>
                    </a>    
                    <nav class="hidden md:ml-8 md:flex md:space-x-6">
                        <a href="/about" class="border-transparent text-usda-darkblue inline-flex items-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors hover:bg-usda-blue hover:text-white hover:border-usda-darkblue">About</a>
                        <a href="/dashboard" class="border-transparent text-usda-darkblue inline-flex items-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors hover:bg-usda-blue hover:text-white hover:border-usda-darkblue">Dashboard</a>
                        <a href="/recalls" class="border-transparent text-usda-darkblue inline-flex items-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors hover:bg-usda-blue hover:text-white hover:border-usda-darkblue">Recalls & Products</a>
                        <a href="/tips" class="border-transparent text-usda-darkblue inline-flex items-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors hover:bg-usda-blue hover:text-white hover:border-usda-darkblue">Food Safety Tips</a>
                        <a href="/posts" class="border-transparent text-usda-darkblue inline-flex items-center px-3 pt-1 border-b-2 text-sm font-medium transition-colors hover:bg-usda-blue hover:text-white hover:border-usda-darkblue">Community Forum</a>
                    </nav>
                </div>
                    <div class="flex items-center space-x-4">
                    <% if (user) { %>
                        <a href="/me" class="flex items-center space-x-3 bg-usda-gray-50 px-3 py-2 rounded-lg hover:shadow-sm transition-shadow">
                            <div class="w-8 h-8 bg-usda-blue rounded-full flex items-center justify-center">
                                <span class="text-white text-sm font-medium"><%= user.username.charAt(0).toUpperCase() %></span>
                            </div>
                            <span class="text-sm font-medium text-usda-gray-900">Welcome, <%= user.username %>!</span>
                        </a>
                        <a href="/auth/logout" class="text-usda-gray-600 hover:text-usda-red px-3 py-2 rounded-md text-sm font-medium transition-colors border border-transparent hover:border-usda-red">Logout</a>
                    <% } else { %>
                        <a href="/auth/login" class="text-usda-gray-600 hover:text-usda-blue px-3 py-2 rounded-md text-sm font-medium transition-colors">Login</a>
                        <a href="/auth/signup" class="bg-usda-blue hover:bg-usda-darkblue text-white px-4 py-2 rounded-md text-sm font-medium transition-colors shadow-sm">Sign Up</a>
                    <% } %>
                </div>
            </div>
        </div>
    </header>